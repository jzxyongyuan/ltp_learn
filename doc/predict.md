https://github.com/HIT-SCIR/ltp


## 分词
- 初始化
    - 加载模型
- 分词
    - 预处理
        - 正则表达式切分 URI
        - 匹配特殊字符 special_token
        - 正则表达式切分 english
        - 对上述结果进行处理，匹配出的结果合并成一个串保存到raw_forms，类型和汉字保存到forms，type保存到chartype。其他内容转成双字节，单独存到raw_forms。
            - chartype = 左侧type（if exist） | 本身type | 右侧type（if exist）
            - raw_forms，将eng，uri等进行组合的结果；如果是其他内容，为单字
            - forms，如果是eng，uri，为_eng_，_uri_；如果是其他内容，与raw_forms一致
    - 匹配词典
        - 最长为5个forms，进行词典匹配
            - inst->lexicon_match_state[i] & 0x0f                           以i开头的最长词长
            - (inst->lexicon_match_state[i]>>4) & 0x0f                  以i结尾的最长词长
            - (inst->lexicon_match_state[i]>>8) & 0x0f                  i居中的最长词长
    - 抽取特征
        - 单独抽取特征
        - 根据模板对特征进行组合
        - 查找特征对应的特征id
    - 计算得分
        - 根据特征设置发射和跳转的得分
    - 解码
        - viterbi解码，没有裁剪，先前向计算，然后后向求最优路径
    - 生成结果
        - 将解码结果输出

## 词性标注
- 初始化
    - 加载模型
- 词性标注
    - 单字节字符转双字节
    - 抽取特征
        - ngram      前后共五个词，及左右词构成的二元关系
        - 前缀          穷举词的前三个字，如“北京天安门”拆成“北”，“北京”，“北京天”
        - 后缀          穷举词的后三个字，如“北京天安门”拆成“门”，“安门”，“天安门”
    - 计算得分
        - 根据特征设置发射和跳转的得分
    - 解码
        - viterbi解码，没有裁剪，先前向计算，然后后向求最优路径
    - 生成结果
        - 将解码结果输出
        - 给出标签

## 命名实体识别
- 初始化
    - 加载模型
- 命名实体识别
    - 单字节字符转双字节
    - 抽取特征
    - 计算得分
        - 根据特征设置发射和跳转的得分
    - 解码
        - viterbi解码，没有裁剪，先前向计算，然后后向求最优路径
    - 生成结果
        - 将解码结果输出
        - 给出标签

## 依存句法分析
- 初始化
    - 加载模型